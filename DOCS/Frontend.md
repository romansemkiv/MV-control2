# Frontend — вигляд і логіка

## 1. Стек
- React + TypeScript
- Vite
- Tailwind CSS
- Zustand

## 2. Формат
- Кілька сторінок: Login, Main, Admin.
- SPA всередині кожної сторінки.
- Темна тема, стиль broadcast panel.

## 3. Стиль
- Темні графітові фони.
- Контрастні акценти для активних елементів.
- Прямі лінії, чіткі контури, технічний вигляд.
- Без синіх домінуючих кольорів.

## 4. Структура сторінок

### Login
- Мінімальна форма: login + password.
- Повідомлення про перший логін.

### Main
- Верхня панель: вибір MV, глобальні параметри MV.
- Центральна зона: схема layout з пронумерованими вікнами.
- Нижня зона: редактор параметрів обраного вікна.
- Окрема кнопка для preset‑модалки.
 - Кожне вікно показує свій output‑номер Quartz (за схемою мапінгу).
 - Роутинг: клік по вікну → вибір Source → відправка `.SV` з output‑номером.

### Admin
- Користувачі: список, створення, скидання паролів.
- Доступи: призначення Sources і MV.
- Налаштування протоколів: IP/Port/Key/JWT.
- Статус останнього refresh.

## 5. Layout preview
- Окреме модальне вікно.
- Сітка прев’ю, згенерованих через SVG + JSON.
- Клік по прев’ю одразу встановлює layout.

## 5.1 Основна схема Layout (SVG + JSON)
- Кожен layout описується JSON з координатами вікон у нормалізованих значеннях `0..1`.
- Рендер через SVG з `viewBox="0 0 1000 1000"` і масштабуванням під контейнер.
- Той самий JSON використовується і для великої схеми, і для прев’ю.
- Клік по `rect` у SVG відкриває параметри вибраного вікна.
- Нумерація вікон рендериться у центрі кожного `rect`.

**Формат JSON (приклад):**
```json
{
  "id": 13,
  "name": "Layout 13",
  "windows": [
    { "id": 1, "x": 0.00, "y": 0.00, "w": 0.50, "h": 0.50 },
    { "id": 2, "x": 0.50, "y": 0.00, "w": 0.50, "h": 0.50 },
    { "id": 3, "x": 0.00, "y": 0.50, "w": 1.00, "h": 0.50 }
  ]
}
```

## 6. Presets modal
- Верх: вибір MV.
- Низ: чекбокси параметрів (layout, umd, pcm, borders, font).
- Кнопки: save, load, export, import.

## 7. Поведінка UI
- Refresh кнопка вручну.
- Валідація параметрів перед відправкою.
- Відображення останнього успішного оновлення.

## 8. Стани і дані
- Локальний UI state синхронізується з бекендом.
- Один користувач редагує один MV за раз.
- Блокування елементів якщо MV не доступний.
